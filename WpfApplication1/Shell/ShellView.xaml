<Window x:Class="WpfApplication1.Shell.ShellView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:watcher="clr-namespace:WpfApplication1.Watcher"
        xmlns:model="clr-namespace:WpfApplication1.Model"
        Title="ShellView" Height="350" Width="525">
    <TreeView ItemsSource="{Binding Watchers}">
        <TreeView.Resources>
            <HierarchicalDataTemplate 
      DataType="{x:Type watcher:FolderWatcher}" 
      ItemsSource="{Binding Folder.Plugins}"
      >
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="{Binding Folder.Path}" />
                    <TextBlock Text="{Binding Folder.Filter}" />
                </StackPanel>
            </HierarchicalDataTemplate>

            <DataTemplate DataType="{x:Type watcher:ChangedFile}">
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="{Binding Name}" />
                </StackPanel>
            </DataTemplate>
            <DataTemplate DataType="{x:Type model:Plugin}">
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="{Binding Name}" />
                </StackPanel>
            </DataTemplate>
        </TreeView.Resources>
    </TreeView>
</Window>
